/* =========================================
   1. CORE SETTINGS & VARIABLES
   ========================================= */
html {
    /* Giữ fluid typography nhưng đảm bảo base là 100% để rem tính toán chuẩn */
    font-size: 100%; 
}

:root {
    --bg-color: #f5f6fa;
    --card-bg: #ffffff;
    --text-main: #111827;
    --text-muted: #6b7280;
    --primary: #000000;
    --primary-text: #ffffff;
    --border: #e5e7eb;
    --radius: 0.5rem; /* 8px */
    --error: #ef4444;
    --success: #10b981;
    --accent-color: #e91e63;
    --link-color: #2196f3;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    font-family: 'Inter', sans-serif;
    background-color: var(--bg-color);
    color: var(--text-main);
    line-height: 1.6;
    padding-bottom: 3.125rem; /* 50px */
    margin: 0;
}

/* Utilities */
.hidden { display: none !important; }
.container { margin: 0 auto; padding: 0 1.25rem; /* 20px */ }
.text-center { text-align: center; }
.text-danger { color: var(--error); }
.text-success { color: var(--success); }
.mt-20 { margin-top: 1.25rem; /* 20px */ }

/* =========================================
   2. BUTTONS & INPUTS (GLOBAL)
   ========================================= */
input, select, textarea {
    width: 100%;
    padding: 0.625rem 0.75rem; /* 10px 12px */
    border: 0.0625rem solid var(--border); /* 1px */
    border-radius: var(--radius);
    font-size: 0.875rem;
    outline: none;
    transition: border 0.2s;
    background: #fff;
}

input:focus, select:focus {
    border-color: var(--primary);
    box-shadow: 0 0 0 0.125rem rgba(0,0,0,0.1); /* 2px */
}

button, .btn {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    padding: 0.625rem 1.25rem; /* 10px 20px */
    border-radius: var(--radius);
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: opacity 0.2s;
    text-decoration: none;
    font-size: 0.875rem;
}

.btn-primary, button[type="submit"] {
    background: var(--primary);
    color: var(--primary-text);
}

.btn-primary:hover, button[type="submit"]:hover { opacity: 0.9; }
.btn:disabled { opacity: 0.6; cursor: not-allowed; }

.btn-edit { color: var(--link-color); text-decoration: none; font-weight: 500; margin-right: 0.625rem; /* 10px */}
.btn-delete { color: var(--error); text-decoration: none; font-weight: 500; }

/* =========================================
   3. HEADER & NAV
   ========================================= */
.site-header {
    background: rgba(255,255,255,0.95);
    backdrop-filter: blur(0.625rem); /* 10px */
    border-bottom: 0.0625rem solid var(--border);
    position: sticky;
    top: 0;
    z-index: 100;
}

.header-container, .admin-header {
    padding: 0.9375rem 2.5rem; /* 15px 40px */
    display: flex;
    justify-content: space-between;
    align-items: center;
}

/* Admin Header */
.admin-header {
    background: var(--primary);
    color: white;
}
.admin-header h2 { margin: 0; font-size: 1.2rem; }
.logout-btn { color: white; text-decoration: none; font-weight: bold; }

.logo-area { display: flex; align-items: center; gap: 0.625rem; /* 10px */ }
.logo-image { width: 1.875rem; height: 1.875rem; object-fit: contain; border-radius: 0.25rem; /* 4px */ }

.main-nav .nav-links { display: flex; gap: 1.25rem; /* 20px */ list-style: none; }
.nav-item { cursor: pointer; font-weight: 500; padding: 0.5rem 0.75rem; /* 8px 12px */ }
.nav-item.active { border-bottom: 0.125rem solid var(--primary); /* 2px */ }

/* =========================================
   4. LAYOUT & SECTIONS
   ========================================= */
.main-content, .admin-container {
    margin: 2.5rem auto; /* 40px */
    max-width: 75rem; /* 1200px */
    padding: 0 1.25rem; /* 20px */
}

.hero-section { text-align: center; margin-bottom: 2.5rem; /* 40px */ }
.hero-title {
    font-size: clamp(1.5rem, 1rem + 2vw, 3rem);
    font-weight: 700;
    margin-bottom: 0.625rem; /* 10px */
}
.hero-description { color: var(--text-muted); font-size: 1rem; }

/* Cards */
.card {
    background: var(--card-bg);
    border: 0.0625rem solid var(--border);
    border-radius: var(--radius);
    box-shadow: 0 0.125rem 0.3125rem rgba(0,0,0,0.05); /* 2px 5px */
    margin-bottom: 1.25rem; /* 20px */
    overflow: hidden;
}
.card-header { padding: 1.25rem; /* 20px */ border-bottom: 0.0625rem solid var(--border); background: #fafafa; }
.card-title { font-size: 1.1rem; font-weight: 600; margin: 0; }
.card-content { padding: 1.25rem; /* 20px */ }

/* Iframe Pages */
.iframe-page { width: 100%; height: 80vh; border: none; margin-top: 1.25rem; display: block;}

/* =========================================
   5. ADMIN & AUTH FORMS
   ========================================= */
.login-container {
    width: 100%;
    max-width: 25rem; /* 400px */
    margin: 5rem auto; /* 80px */
    background: #fff;
    padding: 1.875rem; /* 30px */
    border-radius: 0.75rem; /* 12px */
    box-shadow: 0 0.25rem 0.75rem rgba(0,0,0,0.1); /* 4px 12px */
}

.login-container h2 { text-align: center; margin-bottom: 1.5625rem; /* 25px */ }
.login-container input { margin-bottom: 0.9375rem; /* 15px */ }

.form-box {
    width: 100%;
    max-width: 31.25rem; /* 500px */
    margin: 0 auto;
    padding: 1.5625rem; /* 25px */
    border: 0.0625rem solid var(--border);
    background: #fff;
    border-radius: var(--radius);
}
.form-box label { display: block; margin-bottom: 0.3125rem; /* 5px */ font-weight: 500; margin-top: 0.9375rem; /* 15px */ }
.form-box button { margin-top: 1.25rem; /* 20px */ width: 100%; }

/* =========================================
   6. DATA TABLES (Admin)
   ========================================= */
.product-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 0.9375rem; /* 15px */
    background: #fff;
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: 0 0.125rem 0.3125rem rgba(0,0,0,0.05); /* 2px 5px */
}

.product-table th { background: #f3f4f6; text-align: left; font-weight: 600; }
.product-table th, .product-table td { padding: 0.75rem 0.9375rem; /* 12px 15px */ border-bottom: 0.0625rem solid var(--border); }
.product-table tr:last-child td { border-bottom: none; }
.product-table img { border-radius: 0.25rem; /* 4px */ border: 0.0625rem solid var(--border); }

/* =========================================
   7. SEARCH & FILTERS (pages/search.php)
   ========================================= */
.search-bar-container {
    display: flex;
    gap: 0.625rem; /* 10px */
    flex-wrap: wrap;
    margin-bottom: 1.5625rem; /* 25px */
    padding: 0.9375rem; /* 15px */
    background: #fff;
    border-radius: var(--radius);
    border: 0.0625rem solid var(--border);
}

.search-input { flex: 2; min-width: 12.5rem; /* 200px */ }
.filter-select { flex: 1; min-width: 8.75rem; /* 140px */ }
.search-btn { flex: 0 0 auto; }

/* Product List Row */
.product-list-row {
    display: flex;
    gap: 0.9375rem; /* 15px */
    align-items: center;
    border-bottom: 0.0625rem solid var(--border);
    padding: 0.9375rem 0; /* 15px */
    background: #fff;
    transition: background 0.2s;
}
.product-list-row:hover { background: #f9fafb; }

.product-thumb {
    width: 7.5rem; /* 120px */
    height: 7.5rem; /* 120px */
    object-fit: contain;
    border: 0.0625rem solid var(--border);
    border-radius: 0.25rem; /* 4px */
    background: #fff;
}

.product-details { flex: 1; }
.product-title-link { font-weight: 600; font-size: 1.1rem; color: var(--text-main); text-decoration: none; }
.product-price { color: var(--accent-color); font-weight: bold; font-size: 1.1rem; margin: 0.3125rem 0; /* 5px */ display: block; }
.product-meta { font-size: 0.85rem; color: var(--text-muted); }

/* Compare Sticky Bar */
#compareBar {
    display: none;
    position: fixed;
    bottom: 1.25rem; /* 20px */
    left: 50%;
    transform: translateX(-50%);
    background: #ff5722;
    padding: 0.75rem 1.875rem; /* 12px 30px */
    border-radius: 1.875rem; /* 30px */
    color: white;
    box-shadow: 0 0.25rem 0.9375rem rgba(0,0,0,0.3); /* 4px 15px */
    z-index: 999;
    font-weight: 500;
}
#compareBar a { color: white; font-weight: bold; text-decoration: underline; margin-left: 0.625rem; /* 10px */ }

/* =========================================
   8. PRODUCT GRID (pages/products.php)
   ========================================= */
.product-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(13.75rem, 1fr)); /* 220px */
    gap: 1.25rem; /* 20px */
    margin-top: 1.25rem; /* 20px */
}

.product-card {
    background: white;
    border: 0.0625rem solid var(--border);
    border-radius: var(--radius);
    overflow: hidden;
    transition: transform 0.2s, box-shadow 0.2s;
    display: flex;
    flex-direction: column;
}
.product-card:hover { transform: translateY(-0.3125rem); /* -5px */ box-shadow: 0 0.625rem 0.9375rem rgba(0,0,0,0.1); /* 10px 15px */ }

.product-image-container {
    width: 100%; height: 12.5rem; /* 200px */
    background: #f3f4f6;
    display: flex; align-items: center; justify-content: center;
    position: relative;
}
.product-image { width: 100%; height: 100%; object-fit: contain; padding: 0.625rem; /* 10px */ }

.discount-tag {
    position: absolute; top: 0.625rem; right: 0.625rem; /* 10px */
    background: var(--error); color: white;
    font-size: 0.75rem; font-weight: bold; padding: 0.125rem 0.375rem; /* 2px 6px */ border-radius: 0.25rem; /* 4px */
}

.product-info { padding: 0.9375rem; /* 15px */ flex: 1; display: flex; flex-direction: column; }
.product-title {
    font-size: 0.9rem; font-weight: 600; margin-bottom: 0.625rem; /* 10px */
    display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
}

.price-box { margin-top: auto; display: flex; align-items: baseline; gap: 0.5rem; /* 8px */ }
.current-price { font-size: 1.1rem; font-weight: 700; color: var(--text-main); }
.old-price { color: var(--text-muted); text-decoration: line-through; font-size: 0.8rem; }

.view-btn {
    display: block; text-align: center;
    background: #f3f4f6; color: var(--text-main);
    text-decoration: none; padding: 0.625rem; /* 10px */ margin: 0.9375rem; margin-top: 0; /* 15px */
    border-radius: 0.25rem; /* 4px */ font-size: 0.85rem; font-weight: 600;
    transition: background 0.2s;
}
.view-btn:hover { background: #e5e7eb; }

/* =========================================
   9. LOADING SPINNER & EXTRAS
   ========================================= */
.spinner {
    width: 1rem; height: 1rem; /* 16px */
    border: 0.125rem solid rgba(255,255,255,0.3); /* 2px */
    border-top-color: #fff;
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
    display: inline-block;
    margin-left: 0.5rem; /* 8px */
}
@keyframes spin { to { transform: rotate(360deg); } }

.input-group { display: flex; gap: 0.625rem; /* 10px */ }
.site-info {
    display: flex; align-items: center; gap: 0.5rem; /* 8px */ margin-top: 0.625rem; /* 10px */
    padding: 0.5rem 0.75rem; /* 8px 12px */ background: #f3f4f6; border-radius: 0.375rem; /* 6px */
    border: 0.0625rem solid var(--border); width: fit-content; text-decoration: none; color: var(--text-main);
}
.site-favicon { width: 1.25rem; height: 1.25rem; /* 20px */ }

/* Mobile Responsive */
@media (max-width: 48rem) { /* 768px */
    .header-container { padding: 0.9375rem 1.25rem; /* 15px 20px */ }
    .main-content { margin: 1.25rem auto; padding: 0 0.9375rem; /* 20px 15px */ }
    .input-group, .search-bar-container { flex-direction: column; }
    .btn { width: 100%; }
}

/* =========================================
   10. UTILITIES (Dùng để thay thế inline style)
   ========================================= */
.w-100 { width: 100%; }
.text-muted-link { color: var(--text-muted); font-size: 0.75rem; text-decoration: none; }
.text-bold-link { color: var(--text-main); font-weight: 600; text-decoration: none; }
.mt-100 { margin-top: 6.25rem; /* 100px */ }
.mb-30 { margin-bottom: 1.875rem; /* 30px */ }
.text-primary { color: var(--primary); }
.cursor-default { cursor: default; }
.cursor-pointer { cursor: pointer; }
.nav-user-greeting { color: var(--primary); font-weight: 600; padding: 0.5rem 0.75rem; }
.form-cancel-btn { margin-top: 0.625rem; background: #eee; color: #333; }

/* =========================================
   11. COMPARE SELECTION PAGE (pages/compare.php)
   ========================================= */
.compare-selection-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(15rem, 1fr)); /* 240px */
    gap: 1rem; /* 16px */
}

.selection-card {
    background: white;
    border-radius: 0.75rem; /* 12px */
    overflow: hidden;
    box-shadow: 0 0.125rem 0.375rem rgba(0,0,0,0.08);
    height: 18.75rem; /* 300px */
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.selection-card img {
    width: 100%; height: 9.375rem; /* 150px */ 
    object-fit: contain; background: #fff;
}

.selection-card .info { padding: 0.625rem; /* 10px */ }

.selection-card h3 {
    font-size: 0.875rem; /* 14px */
    height: 2.5rem; /* 40px */
    overflow: hidden;
    margin-bottom: 0.375rem; /* 6px */
}

.selection-price {
    font-weight: 600;
    color: #d32f2f;
    margin-bottom: 0.625rem; /* 10px */
}

.compare-action-btn {
    padding: 0.625rem; /* 10px */
    text-align: center; background: #111; color: white;
    text-decoration: none; display: block;
    border-radius: 0 0 0.75rem 0.75rem;
}

/* =========================================
   12. COMPARE VIEW - TIKI STYLE (pages/compare_view.php)
   ========================================= */
.compare-view-container {
    width: min(70rem, 100%); /* 1120px */
    margin: 2rem auto 3rem;
    padding: 0 1rem 2.5rem;
}

.compare-row {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1.25rem;
    margin-top: 0.75rem;
    margin-bottom: 1.5rem;
}

.compare-card {
    background: #fff;
    border-radius: 1.125rem; /* 18px */
    padding: 1.25rem 1.25rem 1.125rem;
    box-shadow: 0 0.625rem 1.875rem rgba(15, 23, 42, 0.08);
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    overflow: hidden;
}

.compare-card::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(circle at top, rgba(26, 148, 255, 0.18), transparent 55%);
    opacity: 0;
    transition: opacity 0.25s ease;
}
.compare-card:hover::before { opacity: 1; }

.compare-image-wrap {
    width: 13.75rem; /* 220px */
    height: 13.75rem;
    border-radius: 1rem;
    background: #fff;
    display: flex; align-items: center; justify-content: center;
    overflow: hidden; margin-bottom: 0.75rem;
    transition: transform 0.25s ease;
}
.compare-card:hover .compare-image-wrap { transform: translateY(-0.25rem) scale(1.02); }
.compare-image-wrap img { width: 100%; height: 100%; object-fit: contain; }

.compare-title {
    font-size: 0.9375rem; font-weight: 600; text-align: center;
    line-height: 1.35; height: 2.5rem; overflow: hidden; margin-bottom: 0.375rem;
}

.compare-price-current { font-size: 1.25rem; font-weight: 700; color: var(--error); }
.compare-price-original { font-size: 0.8125rem; color: var(--text-muted); text-decoration: line-through; }

.badge-discount {
    display: inline-flex; align-items: center; justify-content: center;
    padding: 0.125rem 0.5rem; border-radius: 62.5rem;
    background: rgba(248, 113, 113, 0.08); color: var(--error);
    font-size: 0.6875rem; font-weight: 600; margin-left: 0.25rem;
}

.compare-meta-row {
    display: flex; align-items: center; gap: 0.625rem;
    margin: 0.5rem 0 0.625rem; font-size: 0.8125rem; color: var(--text-muted);
}
.stars { color: #facc15; font-size: 0.875rem; }

.shop-name { font-size: 0.8125rem; font-weight: 500; color: var(--link-color); }

.compare-btn-row { display: flex; justify-content: center; margin-top: 0.5rem; gap: 0.625rem; }

.btn-tiki-primary {
    border: none; padding: 0.5rem 1.125rem;
    border-radius: 62.5rem; background: var(--link-color); color: #fff;
    font-size: 0.8125rem; font-weight: 600; text-decoration: none;
    display: inline-flex; align-items: center; gap: 0.375rem;
    box-shadow: 0 0.625rem 1.5625rem rgba(26, 148, 255, 0.35);
    transition: 0.15s ease;
}
.btn-tiki-primary:hover { transform: translateY(-0.0625rem); background: #1684e5; }

.btn-tiki-outline {
    border-radius: 62.5rem; padding: 0.4375rem 1rem;
    border: 0.0625rem solid rgba(148, 163, 184, 0.8);
    background: #fff; font-size: 0.8125rem; color: var(--text-main);
    text-decoration: none; display: inline-flex; align-items: center;
}

.select-placeholder {
    border: 0.125rem dashed rgba(148, 163, 184, 0.9);
    border-radius: 1.125rem; padding: 1.5rem; background: #fff;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    gap: 0.75rem; box-shadow: 0 0.375rem 1.25rem rgba(15, 23, 42, 0.06);
}
.select-placeholder span { font-size: 0.875rem; color: var(--text-muted); }

.selector {
    width: 100%; max-width: 20rem; padding: 0.5625rem 0.625rem;
    border-radius: 62.5rem; border: 0.0625rem solid #d1d5db;
    font-size: 0.875rem; outline: none;
}

.compare-table-card {
    margin-top: 0.625rem; background: #fff; border-radius: 1.125rem;
    box-shadow: 0 0.625rem 1.875rem rgba(15, 23, 42, 0.06);
    padding: 1.125rem 1.375rem 1.25rem;
}
.compare-table-card h3 { margin: 0 0 0.875rem; font-size: 1.0625rem; font-weight: 600; }

.compare-table { width: 100%; border-collapse: collapse; font-size: 0.875rem; }
.compare-table th, .compare-table td { padding: 0.625rem; text-align: left; }
.compare-table th {
    font-size: 0.8125rem; text-transform: uppercase;
    color: var(--text-muted); border-bottom: 0.0625rem solid #e5e7eb;
}
.compare-table tr:nth-child(even) td { background: #f9fafb; }
.compare-label { width: 18%; font-weight: 500; }
.link-view { color: var(--link-color); text-decoration: none; font-weight: 500; }

/* Responsive Compare */
@media (max-width: 56.25rem) {
    .compare-row { grid-template-columns: 1fr; }
    .compare-card, .select-placeholder { width: 100%; }
}
@media (max-width: 37.5rem) {
    .compare-image-wrap { width: 10.625rem; height: 10.625rem; }
}
/* =========================================
   13. IMPROVED PRODUCTS UI (pages/products.php)
   ========================================= */

/* Khối bao quanh form tìm kiếm */
.search-form-group {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.75rem; /* Khoảng cách giữa các ô */
    background: #ffffff;
    padding: 1.25rem; /* Tăng padding cho thoáng */
    border-radius: 0.75rem;
    box-shadow: 0 0.25rem 1rem rgba(0,0,0,0.04); /* Đổ bóng nhẹ */
    border: 0.0625rem solid var(--border);
    margin-bottom: 2rem;
    transition: box-shadow 0.3s ease;
}

.search-form-group:focus-within {
    box-shadow: 0 0.5rem 1.5rem rgba(0,0,0,0.08); /* Sáng lên khi nhập liệu */
    border-color: var(--primary);
}

/* Các ô input và select */
.search-form-group .form-input {
    flex: 2; /* Ô tìm kiếm dài nhất */
    min-width: 12.5rem;
    border-radius: 0.5rem;
}

.search-form-group select {
    flex: 1;
    min-width: 9.375rem; /* 150px */
    cursor: pointer;
    background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23111827%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
    background-repeat: no-repeat;
    background-position: right 0.7rem top 50%;
    background-size: 0.65rem auto;
    appearance: none; /* Xóa mũi tên mặc định xấu xí */
    padding-right: 2rem;
}

/* Nút bấm trong form */
.search-form-group .btn {
    flex: 0 0 auto;
    padding: 0.625rem 1.5rem;
    font-size: 0.875rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    border-radius: 0.5rem;
    height: 2.6rem; /* Chiều cao bằng input */
    transition: all 0.2s;
}

/* Style riêng cho nút Reset */
.btn-secondary {
    background: #f3f4f6;
    color: var(--text-muted);
    border: 0.0625rem solid transparent;
}
.btn-secondary:hover {
    background: #e5e7eb;
    color: var(--text-main);
    border-color: #d1d5db;
}

/* Nút xem sản phẩm (View Product) - Làm đẹp hơn */
.view-btn {
    display: block;
    text-align: center;
    /* Đổi sang style nút viền (Outline) sang trọng hơn */
    background: white;
    color: var(--primary);
    border: 0.125rem solid var(--primary); 
    text-decoration: none;
    padding: 0.625rem;
    margin: 0.9375rem;
    margin-top: 0;
    border-radius: 2rem; /* Bo tròn hình viên thuốc */
    font-size: 0.875rem;
    font-weight: 700;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
}

.view-btn:hover {
    background: var(--primary);
    color: white;
    transform: translateY(-0.125rem); /* Nổi lên nhẹ */
    box-shadow: 0 0.25rem 0.75rem rgba(0,0,0,0.15);
}

.view-btn:active {
    transform: translateY(0);
}

/* Responsive cho mobile */
@media (max-width: 48rem) {
    .search-form-group {
        flex-direction: column;
        align-items: stretch;
    }
    .search-form-group .form-input,
    .search-form-group select,
    .search-form-group .btn {
        width: 100%;
        min-width: unset;
    }
}